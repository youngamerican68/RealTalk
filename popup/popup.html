<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RealTalk Draft</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <h1>RealTalk Draft</h1>
        <span class="tagline">Professional Communication</span>
      </div>
      <div class="mode-toggle">
        <button class="mode-btn active" data-mode="simple">Simple Mode</button>
        <button class="mode-btn" data-mode="expert">Expert Mode</button>
      </div>
    </header>

    <div class="content">
      <!-- Simple Mode Interface -->
      <div class="simple-mode-section" id="simpleModeSection">
        <div class="smooth-it-section">
          <h3>‚ú® Smooth It Out</h3>
          <div class="input-section">
            <textarea id="smoothInput" placeholder="Paste your rough draft here or we'll detect text from the page..." class="smooth-textarea"></textarea>
          </div>
          
          <div class="tone-section">
            <label class="tone-label">Tone</label>
            <div class="tone-slider-container">
              <div class="tone-slider">
                <input type="range" id="toneSlider" min="0" max="100" value="50" class="slider">
                <div class="tone-labels">
                  <span class="tone-label-left">üòä Friendly</span>
                  <span class="tone-label-right">üí™ Firm</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="smooth-result hidden" id="smoothResult">
            <div class="result-header">
              <span class="result-emoji">‚ú®</span>
              <span class="result-label">Smoothed Message</span>
              <button class="copy-btn" id="smoothCopyBtn">Copy</button>
            </div>
            <div class="result-text" id="smoothResultText"></div>
            <div class="result-footer">
              <span class="result-encouragement" id="resultEncouragement">Send with confidence!</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Expert Mode Interface -->
      <div class="expert-mode-section hidden" id="expertModeSection">
      
      <!-- Risk Assessment Section -->
      <div class="risk-section hidden" id="riskSection">
        <div class="risk-indicator" id="riskIndicator">
          <div class="risk-level" id="riskLevel">
            <span class="risk-badge" id="riskBadge">LOW</span>
            <span class="risk-text" id="riskText">Communication Risk</span>
          </div>
          <div class="context-badges" id="contextBadges">
            <!-- Dynamic context badges will be inserted here -->
          </div>
        </div>
        <div class="risk-recommendations hidden" id="riskRecommendations">
          <!-- Risk-specific recommendations will appear here -->
        </div>
      </div>

      <!-- Scenario Selection -->
      <div class="scenario-section hidden" id="scenarioSection">
        <h3>Crisis Mode</h3>
        <div class="scenario-modes">
          <div class="scenario-mode active" data-scenario="general">
            <span class="scenario-emoji">üíº</span>
            <span class="scenario-label">Professional</span>
          </div>
          <div class="scenario-mode" data-scenario="reputationShield">
            <span class="scenario-emoji">üõ°Ô∏è</span>
            <span class="scenario-label">Reputation Shield</span>
          </div>
          <div class="scenario-mode" data-scenario="deEscalation">
            <span class="scenario-emoji">ü§ù</span>
            <span class="scenario-label">De-escalation</span>
          </div>
          <div class="scenario-mode" data-scenario="crisisResponse">
            <span class="scenario-emoji">üÜò</span>
            <span class="scenario-label">Crisis Response</span>
          </div>
        </div>
      </div>

      <div class="original-section" id="originalSection">
        <h3>Message</h3>
        <div class="original-text" id="originalText">
          Select text or focus on an input field to get started
        </div>
      </div>

      <div class="loading-section hidden" id="loadingSection">
        <div class="spinner"></div>
        <p>Generating professional rewrites...</p>
      </div>

      <div class="rewrites-section hidden" id="rewritesSection">
        <h3>Professional Rewrites</h3>
        
        <div class="rewrite-option" data-type="professional">
          <div class="rewrite-header">
            <span class="rewrite-emoji">üíº</span>
            <span class="rewrite-label">Professional</span>
            <button class="copy-btn" data-type="professional">Copy</button>
          </div>
          <div class="rewrite-text" id="professionalText"></div>
          <div class="rewrite-meta">
            <span class="char-count" id="professionalCount"></span>
          </div>
        </div>

        <div class="rewrite-option" data-type="direct">
          <div class="rewrite-header">
            <span class="rewrite-emoji">üéØ</span>
            <span class="rewrite-label">Direct</span>
            <button class="copy-btn" data-type="direct">Copy</button>
          </div>
          <div class="rewrite-text" id="directText"></div>
          <div class="rewrite-meta">
            <span class="char-count" id="directCount"></span>
          </div>
        </div>

        <div class="rewrite-option" data-type="collaborative">
          <div class="rewrite-header">
            <span class="rewrite-emoji">ü§ù</span>
            <span class="rewrite-label">Collaborative</span>
            <button class="copy-btn" data-type="collaborative">Copy</button>
          </div>
          <div class="rewrite-text" id="collaborativeText"></div>
          <div class="rewrite-meta">
            <span class="char-count" id="collaborativeCount"></span>
          </div>
        </div>
      </div>

      <div class="error-section hidden" id="errorSection">
        <div class="error-icon">‚ö†Ô∏è</div>
        <div class="error-message" id="errorMessage"></div>
        <button class="retry-btn" id="retryBtn">Try Again</button>
      </div>
      
      </div> <!-- End expert-mode-section -->
    </div>

    <footer class="footer">
      <div class="usage-info">
        <span class="usage-text" id="usageText">Loading...</span>
      </div>
      <div class="footer-actions">
        <button class="panic-btn hidden" id="panicBtn">üö® PANIC MODE</button>
        <button class="upgrade-btn hidden" id="upgradeBtn">Upgrade to Pro</button>
        <button class="rewrite-btn" id="rewriteBtn">Rewrite Text</button>
      </div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>